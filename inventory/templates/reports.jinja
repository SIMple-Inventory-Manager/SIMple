{% extends 'base-template.jinja' %}
{% block content %}
    <div class="container" align="center">
    <h3 align="center">Reports</h3>
    <hr>
    <script>console.log({{ extras|tojson }})</script>
    {% set total_cost = extras["total_cost"]|float %}
    {% set total_net = extras["total_net"]|float %}

    {% if total_cost > total_net  %}
        {% set gain_loss = "Loss" %}
        {% set gl_amount = total_cost - total_net %}
        {% set gl_color = "#D40000" %}
    {% elif total_cost < total_net %}
        {% set gain_loss = "Gain" %}
        {% set gl_amount = total_net - total_cost %} 
        {% set gl_color = "#217821"%}
    {% endif %}

    <div class="right">
    <table>
        <tr>
            <td>Total Categories:</td><td>{{ extras["total_cat"] }}</td>
        </tr>
        <tr>
            <td>Total Locations:</td><td>{{ extras["total_loc"] }}</td>
        </tr>
        <tr>
            <td>Total Products:</td><td> {{ extras["total_prod"] }}</td>
        </tr>
        <tr>
            <td>Itemized Products:</td><td> {{ extras["itemized_costs"] }}</td>
        </tr>
        <tr>
            <td>Sellable Products:</td><td> {{ extras["itemized_revenue"] }} </td>
        </tr>
    </table>
    </div>
    <div class="left">
    <table>
        <tr>
            <td>Total Cost of Inventory:</td><td>${{ extras["total_cost"] }}</td>
        </tr>
        <tr>
            <td>Total Potential Revenue:</td><td>${{ extras["total_net"]}}</td>
        </tr>
        <tr>
            <td>Total {{ gain_loss }}: </td><td><span style="font-weight:bold; color:{{ gl_color }}">${{ gl_amount|round }}</span></td>
        </tr>
    </table>
    <table class="chart">
        <tr>
            <td>Cost:</td><td><span class="cost bar" style="width:{{ extras['cost_span'] }}px;"></span></td>
        </tr>
        <tr>
            <td>Revenue:</td><td><span class="revenue bar" style="width:{{ extras['net_span'] }}px;"></span></td>
        </tr>
    </table>
    </div>


{% endblock %}